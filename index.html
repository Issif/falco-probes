<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <title>Falco Probes</title>
    <meta name="author" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="./js/dataTables.bootstrap.min.js"></script>
    <script type="text/javascript" src="./js/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="./js/jquery.dataTables.min.js"></script>
    <script>
       var urlParams = new URLSearchParams(window.location.search);
        var searchString = urlParams.get('search')
        if (searchString == null) {
            searchString = "";
        };
        if (urlParams.get('falcoversion') != null) {
            $(document).ready(function(){
            $.getJSON("./data/"+urlParams.get('falcoversion')+".json", function( data ) {
                $('#probes').DataTable({
                    "oSearch": {"sSearch": searchString },
                    "paging": false,
                    "data" : data,
                    "order": [[ 6, "desc" ]],
                    columns : [
                        { "data" : "falco_version"},
                        { "data" : "architecture"},
                        { "data" : "kernel_version"},
                        { "data" : "hash"},
                        { "data" : "size"},
                        { "data" : "creation_date"},
                        { "data" : "link",  render: function ( data, type, row ) {
                                                return '<a href="'+data+'" download="'+data+'"><span class="glyphicon glyphicon-download-alt"></span></a>';
                                            }},
                        { "data" : "kernel_version", render: function ( data, type, row ) {
                                                return '<a href="./?falcoversion='+urlParams.get('falcoversion')+'&search='+data+'"><span class="glyphicon glyphicon-search"></span></a>';
                                            }},
                        ]
                    });
                });
            });
        }
    </script>
    </head>
    <body>
    <div>
        <img src="https://sysdig.com/wp-content/uploads/2018/10/Falco-horizontal-logo-teal_2x.png" height="55" alt="falco logo">
        <span class="btn btn-link"><a href="?falcoversion=0.10.0">0.10.0</a></span><span class="btn btn-link"><a href="?falcoversion=0.11.0">0.11.0</a></span><span class="btn btn-link"><a href="?falcoversion=0.11.1">0.11.1</a></span><span class="btn btn-link"><a href="?falcoversion=0.12.0">0.12.0</a></span><span class="btn btn-link"><a href="?falcoversion=0.12.1">0.12.1</a></span><span class="btn btn-link"><a href="?falcoversion=0.13.0">0.13.0</a></span><span class="btn btn-link"><a href="?falcoversion=0.13.1">0.13.1</a></span><span class="btn btn-link"><a href="?falcoversion=0.14.0">0.14.0</a></span><span class="btn btn-link"><a href="?falcoversion=0.15.0">0.15.0</a></span><span class="btn btn-link"><a href="?falcoversion=0.15.1">0.15.1</a></span><span class="btn btn-link"><a href="?falcoversion=0.15.2">0.15.2</a></span><span class="btn btn-link"><a href="?falcoversion=0.15.3">0.15.3</a></span><span class="btn btn-link"><a href="?falcoversion=0.16.0">0.16.0</a></span><span class="btn btn-link"><a href="?falcoversion=0.17.0">0.17.0</a></span>
    </div>
    <br>
    <table id="probes" class="table table-striped table-condensed">
        <thead>
            <tr>
                <th>Falco Release</th>
                <th>Architecture</th> 
                <th>Kernel Version</th> 
                <th>Hash</th> 
                <th>Size</th> 
                <th>Creation Date</th> 
                <th>Download Link</th> 
                <th>Share Link</th>
            </tr>
        </thead>
    </table>
    </body>
</html>